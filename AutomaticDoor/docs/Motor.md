# モータクラス Motor
## メンバ変数

| 関数名 | 説明 |
| ---- | ---- |
| feedbackpulse_pin | モータから一定の回転によって送られてくるパルスのピン番号 |
| rotdirection_pin | 回転方向制御のピン番号 |
| intopulse_pin | こちら側からのパルスによってモータの回転量を制御するピン番号 |
| rotdirection | モータの回転方向 |
| centimeter_per_sec | 扉を移動させる速度[cm/s] |
| movingdistance | 扉を移動させる距離[cm] |

## メンバ関数

| 関数名 | 説明 |
| ---- | ---- |
| setRotateDirection | モータを回転させる方向（ドアを移動させる方向）を指定する。 |
| setSpeed | ドアを移動させたい速度[cm/s]を指定する。 |
| rotate | ドアの移動方向、ドアの移動速度[cm/s]、ドアの移動距離を指定して回転させる |

## モータの駆動方法
今回使用しているのはステッピングモータである。<br>
このステッピングモータはArduino側からパルス信号を出すことで、モータ側で取り決めたステップ角回転する。現在は一回転当たり3200ステップのため、このプログラムもそれに合わせて記述している。<br>
関数rotateでは、引数でモータを回転させる方向、速度、距離を指定することで、要求通りにモータを回転させられる。<br>
モータの回転速度はパルスを送る間隔の短さ(delaytime)により決まり、モータの移動距離はパルスを送る回数(steps)によって決まる。また、delaytime, stepsは要求された速度と距離から算出することができるため、モータは以下の手順のように作動させる。<br><br>
1.inpulse_pinをHIGHにする<br>
2.delaytimeだけ待つ<br>
3.inpulse_pinをLOWにする<br>
4.delaytimeだけ待つ<br>
5.steps回だけ1から4を繰り返す
